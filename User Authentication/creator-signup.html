<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creator Signup - Hlfwrld</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .signup-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            width: 100%;
            max-width: 500px;
            position: relative;
            overflow: hidden;
        }

        .signup-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            color: #333;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .logo p {
            color: #666;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #f8f9fa;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .commission-info {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }

        .commission-info h4 {
            color: #2e7d32;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .commission-info p {
            color: #2e7d32;
            font-size: 13px;
            line-height: 1.4;
        }

        .signup-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .signup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .signup-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .login-link {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 14px;
        }

        .login-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .login-link a:hover {
            text-decoration: underline;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .next-steps {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }

        .next-steps h4 {
            color: #856404;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .next-steps ol {
            color: #856404;
            font-size: 13px;
            margin-left: 20px;
        }

        .next-steps li {
            margin-bottom: 5px;
        }

        .terms-container {
            margin-top: 1rem;
        }

        .terms-label {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .terms-label input[type="checkbox"] {
            margin-top: 0.2rem;
            cursor: pointer;
        }

        .terms-label a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .terms-label a:hover {
            text-decoration: underline;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .close:hover {
            color: #333;
        }

        .terms-content {
            margin-top: 1rem;
        }

        .terms-content h2 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .terms-content h3 {
            color: #555;
            margin: 1.5rem 0 0.5rem 0;
            font-size: 1.2rem;
        }

        .terms-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .terms-content ul {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .terms-content li {
            margin-bottom: 0.5rem;
        }

        @media (max-width: 480px) {
            .signup-container {
                padding: 30px 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="signup-container">
        <div class="logo">
            <h1>Hlfwrld</h1>
            <p>Creator Registration</p>
        </div>

        <div class="error-message" id="errorMessage"></div>
        <div class="success-message" id="successMessage"></div>

        <form id="signupForm">
            <div class="form-row">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                <div class="form-group">
                    <label for="username">Username *</label>
                    <input type="text" id="username" name="username" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
            </div>

            <div class="form-group">
                <label for="bio">Bio/Description</label>
                <textarea id="bio" name="bio" rows="3" placeholder="Tell us about yourself and your beauty expertise..."></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="password">Password *</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password *</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required>
                </div>
            </div>

            <div class="commission-info">
                <h4>💰 Commission Structure</h4>
                <p>You'll earn <strong>15% commission</strong> on every booking made through your profile. Payments are processed automatically through Stripe.</p>
            </div>

            <div class="next-steps">
                <h4>🎯 Next Steps After Signup</h4>
                <ol>
                    <li>Create your digital shop with services</li>
                    <li>Set up your public profile</li>
                    <li>Share your profile link with followers</li>
                    <li>Start earning commissions!</li>
                </ol>
            </div>

            <div class="form-group">
                <div class="terms-container">
                    <label class="terms-label">
                        <input type="checkbox" id="agreementAccepted" name="agreementAccepted" required>
                        <span class="checkmark"></span>
                        I agree to the <a href="#" onclick="showTermsModal()">Terms of Service and Creator Agreement</a> *
                    </label>
                </div>
            </div>

            <button type="submit" class="signup-btn" id="signupBtn">Create Creator Account</button>
        </form>

        <div class="login-link">
            Already have an account? <a href="creator-auth.html">Sign In</a>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTermsModal()">&times;</span>
            <div class="terms-content">
                <h2>Terms of Service and Creator Agreement</h2>
                
                <p><strong>Last updated:</strong> January 2024</p>
                
                <h3>1. Acceptance of Terms</h3>
                <p>By creating a creator account on Hlfwrld, you agree to be bound by these Terms of Service and Creator Agreement. If you do not agree to these terms, please do not use our platform.</p>
                
                <h3>2. Platform Overview</h3>
                <p>Hlfwrld is a beauty service booking platform that connects beauty influencers with salons and their clients. The platform facilitates appointment bookings, payment processing, and commission distribution to creators.</p>
                
                <h3>3. Creator Responsibilities</h3>
                <ul>
                    <li>Provide accurate and authentic personal information</li>
                    <li>Create genuine, high-quality content and services</li>
                    <li>Maintain professional standards and ethical behavior</li>
                    <li>Comply with all applicable laws and regulations</li>
                    <li>Respect intellectual property rights</li>
                    <li>Engage with your audience in a positive manner</li>
                </ul>
                
                <h3>4. Commission Structure</h3>
                <p>For each confirmed booking made through your profile:</p>
                <ul>
                    <li><strong>Your Commission:</strong> 15% of the service fee</li>
                    <li><strong>Platform Commission:</strong> 20% of the service fee</li>
                    <li><strong>Salon Receives:</strong> 65% of the service fee</li>
                </ul>
                
                <h3>5. Payment Processing</h3>
                <p>All commissions are processed through Stripe Connect. You must have a valid Stripe account to receive payments. Commissions are automatically calculated and transferred after each confirmed booking.</p>
                
                <h3>6. Content and Services</h3>
                <ul>
                    <li>You are responsible for all content you create and share</li>
                    <li>Services must be accurately described and priced</li>
                    <li>You must have the necessary qualifications for services offered</li>
                    <li>Content must not violate any laws or platform policies</li>
                </ul>
                
                <h3>7. Profile and Digital Shop</h3>
                <p>You are responsible for maintaining your profile and digital shop. This includes:</p>
                <ul>
                    <li>Keeping service information up-to-date</li>
                    <li>Responding to client inquiries promptly</li>
                    <li>Ensuring your profile accurately represents your expertise</li>
                    <li>Maintaining professional presentation standards</li>
                </ul>
                
                <h3>8. Client Relationships</h3>
                <p>While you can promote services and direct clients to salons, you are not responsible for the actual service delivery. The salon is responsible for providing the booked services to clients.</p>
                
                <h3>9. Data and Privacy</h3>
                <p>We collect and process personal data in accordance with our Privacy Policy. By using the platform, you consent to the collection and use of your information as described in our Privacy Policy.</p>
                
                <h3>10. Prohibited Activities</h3>
                <ul>
                    <li>Providing false or misleading information</li>
                    <li>Creating fake reviews or testimonials</li>
                    <li>Engaging in fraudulent activities</li>
                    <li>Violating any applicable laws or regulations</li>
                    <li>Attempting to circumvent commission payments</li>
                    <li>Harassing or abusing other users</li>
                    <li>Sharing inappropriate or offensive content</li>
                </ul>
                
                <h3>11. Termination</h3>
                <p>We reserve the right to terminate or suspend creator accounts for violations of these terms. Creators may also terminate their accounts at any time by contacting support.</p>
                
                <h3>12. Limitation of Liability</h3>
                <p>Hlfwrld is not liable for any damages arising from the use of our platform, including but not limited to lost profits, data loss, or service interruptions.</p>
                
                <h3>13. Changes to Terms</h3>
                <p>We may update these terms from time to time. Continued use of the platform after changes constitutes acceptance of the new terms.</p>
                
                <h3>14. Contact Information</h3>
                <p>For questions about these terms, please contact us at support@hlfwrld.com</p>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:3000';

        // Terms modal functions
        function showTermsModal() {
            document.getElementById('termsModal').style.display = 'block';
        }

        function closeTermsModal() {
            document.getElementById('termsModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('termsModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        function showMessage(message, type) {
            const errorDiv = document.getElementById('errorMessage');
            const successDiv = document.getElementById('successMessage');
            
            errorDiv.style.display = 'none';
            successDiv.style.display = 'none';
            
            if (type === 'error') {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            } else {
                successDiv.textContent = message;
                successDiv.style.display = 'block';
            }
        }

        document.getElementById('signupForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Validate password confirmation
            if (data.password !== data.confirmPassword) {
                showMessage('Passwords do not match', 'error');
                return;
            }

            // Check if terms are accepted
            const agreementAccepted = document.getElementById('agreementAccepted').checked;
            if (!agreementAccepted) {
                showMessage('You must accept the Terms of Service and Creator Agreement to continue', 'error');
                return;
            }

            const signupBtn = document.getElementById('signupBtn');
            signupBtn.disabled = true;
            signupBtn.textContent = 'Creating Account...';

            try {
                const response = await fetch(`${API_BASE}/creator/signup`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                if (response.ok) {
                    showMessage('✅ Creator account created successfully! Redirecting to digital shop setup...', 'success');
                    setTimeout(() => {
                        window.location.href = `http://localhost:3000/digitalshop?creator=${data.username}`;
                    }, 2000);
                } else {
                    showMessage(`❌ ${result.error}`, 'error');
                }
            } catch (error) {
                showMessage('❌ Network error. Please try again.', 'error');
            } finally {
                signupBtn.disabled = false;
                signupBtn.textContent = 'Create Creator Account';
            }
        });

        // Real-time password confirmation validation
        document.getElementById('confirmPassword').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            
            if (password !== confirmPassword && confirmPassword.length > 0) {
                this.style.borderColor = '#dc3545';
            } else {
                this.style.borderColor = '#e1e5e9';
            }
        });

        // Username availability check
        document.getElementById('username').addEventListener('blur', async function() {
            const username = this.value;
            if (username.length < 3) return;

            try {
                const response = await fetch(`${API_BASE}/creator/check-username?username=${username}`);
                const result = await response.json();
                
                if (!result.available) {
                    this.style.borderColor = '#dc3545';
                    showMessage('Username is already taken', 'error');
                } else {
                    this.style.borderColor = '#28a745';
                }
            } catch (error) {
                console.error('Error checking username:', error);
            }
        });
    </script>
</body>
</html> 